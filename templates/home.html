{% load staticfiles %}

<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>ALICE Anniversary - 20 years</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Stylesheets -->
        <link rel="stylesheet" href="{% static "css/normalize.css" %}">
        <link rel="stylesheet" href="{% static "css/main.css" %}">
        <link rel="stylesheet" href="{% static "css/sarpaque.css" %}">        
        <!-- Video.JS -->
        <link href="{% static "video-js/video-js.min.css" %}" rel="stylesheet">        
    </head>
    <body>        
        <header>
            <!--[if lt IE 7]>
                <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
            <![endif]-->
            <h2 class="no-js-alert">
                You should enable JavaScript to view this page!
            </h2>
            <div id="logo">
                <a href="http://alice.web.cern.ch/" target="_blank">
                    <img src="{% static "img/alice_logo.jpg" %}" alt="ALICE" />
                </a>
            </div> 
        </header>        
        <div id="main">      
            <div id="line"></div>
        	<div id="years_content">                
                {% for year, yb in years.iteritems %}
                    <div id="year_{{ year }}" style="{{ yb.year.additionalCSS }}" class="year">
                        <div class="foregrounds-container">
                            {% for foreground in yb.foregrounds %}
                                <div id="foreground_{{ foreground.id }}" class="foreground hidden" style="{% if foreground.positionLeft %}left:{{ foreground.positionLeft }}px;{% endif %}{% if foreground.positionRight %}right:{{ foreground.positionRight }};{% endif %}{% if foreground.width %}width: {{ foreground.width }}px;{% endif %}{{ foreground.additionalCSS }}" data-start-offset="{{ foreground.startOffset }}" data-end-offset="{{ foreground.endOffset }}"></div>
                            {% endfor %}
                        </div>
                        <div class="inner">
                            <div class="boxes-container left">
                                <div class="box left html year-box">
                                    <h2>{{ year }}</h2>
                                </div>                 
                                <div class="clearfix"></div>               
                                {% for box in yb.boxes.left %}
                                    {% if box.contentType == "html" %}
                                        <div id="box_{{ box.id }}" class="box left html hidden" style="width:{{ box.width }}px;{{ box.additionalCSS }}">
                                            {{ box.contentHTML|safe }}                                            
                                            {% if box.readMoreLink and box.readMoreType == "link" %}
                                                <a href="{{ box.readMoreLink }}" class="read-more" target="_blank">
                                                    Read more
                                                </a>
                                            {% elif box.readMoreHTML and box.readMoreType == "html" %}                                                
                                                <a href="#" class="show-modal read-more">Read more</a>
                                                <div class="modal-content">{{ box.readMoreHTML|safe }}</div>
                                            {% endif %}                                            
                                        </div>
                                    {% else %}
                                        <div id="box_{{ box.id }}" class="box left image hidden" style="width:{{ box.width }}px;{{ box.additionalCSS }}">
                                            {% if box.contentImageLabel %}
                                                <div class="label">{{ box.contentImageLabel }}</div>
                                            {% endif %}
                                            {% if box.readMoreLink and box.readMoreType == "link" %}
                                                <a href="{{ box.readMoreLink }}" class="read-more" target="_blank">Read more</a>
                                            {% elif box.readMoreHTML and box.readMoreType == "html" %}
                                                <a href="#" class="show-modal read-more">Show info</a>
                                                <div class="modal-content">{{ box.readMoreHTML|safe }}</div>
                                            {% endif %}                        
                                        </div>
                                    {% endif %}                                    
                                {% endfor %}
                                <div class="clearfix"></div>
                            </div>                        
                            <div class="boxes-container right">
                                <div class="box right html loader-box">
                                    <img src="{% static "img/loader.gif" %}" />
                                </div>
                                <div class="clearfix"></div>
                                {% for box in yb.boxes.right %}                                                                
                                    {% if box.contentType == "html" %}
                                        <div id="box_{{ box.id }}" class="box right html hidden" style="width:{{ box.width }}px;{{ box.additionalCSS }}">
                                            {{ box.contentHTML|safe }}
                                            {% if box.readMoreLink and box.readMoreType == "link" %}
                                                <a href="{{ box.readMoreLink }}" class="read-more" target="_blank">
                                                    Read more
                                                </a>
                                            {% elif box.readMoreHTML and box.readMoreType == "html" %}
                                                <a href="#" class="show-modal read-more">Read more</a>
                                                <div class="modal-content">{{ box.readMoreHTML|safe }}</div>
                                            {% endif %}
                                        </div>
                                    {% else %}
                                        <div id="box_{{ box.id }}" class="box right image hidden" style="width:{{ box.width }}px;{{ box.additionalCSS }}">
                                            {% if box.contentImageLabel %}
                                                <div class="label">{{ box.contentImageLabel }}</div>
                                            {% endif %}
                                            {% if box.readMoreLink and box.readMoreType == "link" %}
                                                <a href="{{ box.readMoreLink }}" class="read-more" target="_blank">Read more</a>                                                
                                            {% elif box.readMoreHTML and box.readMoreType == "html" %}
                                                <a href="#" class="show-modal read-more">Show info</a>
                                                <div class="modal-content">{{ box.readMoreHTML|safe }}</div>
                                            {% endif %}                                
                                        </div>
                                    {% endif %}                                    
                                {% endfor %}   
                                <div class="clearfix"></div>                             
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                {% endfor %}                
        	</div>
        	<div id="years_tape">
                {% for year, yb in years.iteritems %}
                    <div class="year-container">
                        <div class="year-label" id="y_{{ year }}" data-for-year="{{ year }}">
                            {{ year }}
                        </div>
                        <div class="year-descritpion"></div>
                    </div>
                {% endfor %}
                <!-- <ul id="years_list">
                    {% for year, yb in years.iteritems %}
                        <li id="y_{{ year }}" data-for-year="{{ year }}">{{ year }}</li>
                    {% endfor %}
                </ul> -->
            </div>
        </div>        
        <div id="global_shadow"></div>
        <div id="modal_window">
            <header>
                <div class="close">close</div>
            </header>
            <div class="content"></div>
        </div>
        <div id="loader"><img src="{% static "img/loader.gif" %}" /></div>

        <!-- Scripts -->
        <script src="{% static "js/vendor/modernizr-2.6.2.min.js" %}"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script>
            window.jQuery || document.write('<script src="{% static "js/vendor/jquery-1.9.0.min.js" %}"><\/script>')
        </script>
        <script src="{% static "js/plugins.js" %}"></script>
        <script src="{% static "video-js/video.min.js" %}"></script>
        <!-- Sarpaque lib -->
        <script src="{% static "js/sarpaque.js" %}"></script>
        <script src="{% static "js/sarpaque.common.js" %}"></script>
        <script src="{% static "js/sarpaque.timeline.js" %}"></script>        
        <script src="{% static "js/sarpaque.scroll_spy.js" %}"></script>    
        <script src="{% static "js/sarpaque.years_tape.js" %}"></script>
        <!-- Config of the content -->
        <script type="text/javascript">
            var SarpaqueConfig = {
                "loadBackgrounds": true,
                "loadForegrounds": true,
                "timelineData": {
                    "years": [ {% for year, yb in years.iteritems %}"{{ year }}"{% if not forloop.last %},{% endif %}{% endfor %} ],
                    "media": { {% for year, yb in years.iteritems %} "{{ year }}": {{ yb.imagesJSON|safe }}{% if not forloop.last %},{% endif %} {% endfor %} }                    
                }
            };
        </script>
    </body>
</html>
